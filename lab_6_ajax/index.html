<!DOCTYPE html>
<html lang="en">

<head>
    <title>Test AJAX page</title>
    <link rel="stylesheet" type="text/css" href="./lab_styles.css">
</head>

<body>
    <div class="container">
        <div class="wrapper">
            <div class="header">Test AJAX page</div>
            <button class="button" onclick="loadData()">Load Some JSON</button>
            <div class="content"></div>
            <div class="footer"></div>
        </div>
    </div>
    <script>
        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min) + min);
        }
        function loadData() {
            fetch('ajax_sample.json')
                .then(res => res.json())
                .then(data => data.map(ctry => ctry.name + " (" + ctry.code + ")"))
                .then(data => displayData(data));
        }
        function displayData(array) {
            const element = document.querySelector(".content");
            element.innerHTML = "";
            let ctry = [];
            for (let i = 1; i <= 15; i++) {
                let random = getRandom(0, 242);
                while (ctry.includes(random)) {
                    continue;
                }
                ctry.push(random);
                let el = document.createElement("ctry");
                el.innerText = i.toString() + ". " + array[random];
                element.appendChild(el);
            }
        } 
    </script>
</body>

</html>